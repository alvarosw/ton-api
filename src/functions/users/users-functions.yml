get-user:
  description: Function to handle GET /users/{id} endpoint.
  handler: ./build/src/functions/users/get-user.handle
  memorySize: 256
  timeout: 10
  events:
    - http:
        path: users/{id}
        method: GET
        authorizer: verify-token
        # docs
        summary: Get User
        description: Gets an user by id
        headerParameters:
          Authorization: 
            description: Authorization token generated by Login endpoint
            required: true
            type: string
        responseData:
          200:
            bodyType: PostUser
            description: OK
          401:
            bodyType: HttpError
            description: Unauthorized
          500:
            bodyType: HttpError
            description: Internal Server Error
  iamRoleStatements:
    - Effect: 'Allow'
      Action:
        - 'dynamodb:GetItem'
      Resource: !GetAtt UsersTable.Arn
  package:
    patterns:
      - ./build/src/functions/users/get-user.js
      - ./build/src/controllers/users.js
      - ./build/src/middleware/auth.js